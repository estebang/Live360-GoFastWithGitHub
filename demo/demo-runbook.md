# üìò Demo Runbook ‚Äî ‚ÄúTake Action: Go Fast with GitHub‚Äù
*Reusable demo guide for workshops, conference sessions, and internal enablement.*

---

## üìÑ Overview
This runbook documents the full end-to-end demo sequence used in the ‚ÄúTake Action: Go Fast with GitHub‚Äù session at Live! 360.

Each demo builds on the previous one:

1. CI Pipeline (GitHub Actions)  
2. Copilot Improves CI/CD  
3. Agent Mode Builds Full Pipeline  
4. MCP in VS Code (Issues, PRs, Workflows)  
5. Custom GitHub Agent  
6. Demo Finale (Idea ‚Üí Azure)

The runbook includes: prerequisites, exact prompts, expected outputs, fallback branches, and delivery tips.

---

# üß© Repository Structure (Demo Baseline)

```
TailspinToys/
 ‚îú‚îÄ‚îÄ src/
 ‚îÇ    ‚îî‚îÄ‚îÄ TailspinToys.Web/
 ‚îú‚îÄ‚îÄ tests/
 ‚îî‚îÄ‚îÄ .github/
       ‚îî‚îÄ‚îÄ workflows/   (initially empty)
```

---

# ‚öôÔ∏è Global Prerequisites

## GitHub
- A GitHub repo containing the Tailspin Toys app  
- GitHub Actions enabled  
- Issues and PRs created ahead of time:
  - Issue #1: Deployment failure  
  - Issue #2: Missing pledge validation  
  - PR #1: CI refactor (incomplete)

## Azure
- Azure Web App created (Linux recommended)  
- Deployment method: OIDC (preferred) or publish profile  

## VS Code
- GitHub Copilot  
- Copilot Chat  
- Copilot Agent Mode  
- GitHub MCP server enabled  

## Demo Branches (Optional)
```
demo/ci-start
demo/cd-ready
demo/agent-start
demo/mcp-ready
demo/custom-agent
```

---

# ‚ñ∂Ô∏è DEMO 1 ‚Äî CI Pipeline (GitHub Actions)
**Slides:** GitHub Actions ‚Üí Workflow Anatomy ‚Üí Demo: CI Pipeline  
**Duration:** ~5 minutes  
**Goal:** Build & test .NET app, cache packages, run on PR  

## Live Steps
1. GitHub ‚Üí Actions ‚Üí ‚ÄúSet up a workflow yourself‚Äù  
2. Open YAML in VS Code  
3. Copilot prompt:

```
Create a CI workflow for this .NET 9 Razor Pages application.
It should run on push and pull_request, restore dependencies,
build, test, and cache NuGet packages.
```

4. Commit and push  
5. Show workflow run  

## Expected Output
- `.github/workflows/ci.yml`  
- Workflow runs on PR  
- Build + test successful  

## Fallback
Checkout `demo/ci-start`

---

# ‚ñ∂Ô∏è DEMO 2 ‚Äî Copilot Improves CI/CD
**Slides:** Copilot for DevOps ‚Üí Demo: Copilot Improves CI/CD  
**Duration:** 6‚Äì8 minutes  
**Goal:** Expand CI ‚Üí CD and deploy to Azure  

## Live Steps
1. Open `ci.yml`  
2. Copilot prompt:

```
Expand this workflow to deploy the TailspinToys.Web project
to my Azure Web App. Use OIDC (OpenID Connect). Deploy only on push to main.
Add build, publish, and deploy steps.

Use the following secret names: AZURE_CLIENT_ID, AZURE_SUBSCRIPTION_ID, AZURE_TENANT_ID

And use these variable names: AZURE_WEBAPP_NAME_DEV, AZURE_WEBAPP_NAME_PROD
```

3. Review ‚Üí commit ‚Üí push  
4. Show Azure deployment  

## Expected Output
- CI expanded into CI/CD  
- Publish + deploy steps added  

## Fallback
Use `demo/cd-ready`

---

# ‚ñ∂Ô∏è DEMO 3 ‚Äî Agent Mode Builds Full CI/CD Pipeline
**Slides:** Agent Mode ‚Üí Demo: Agent Mode & Pipeline  
**Duration:** ~7 minutes  
**Goal:** Full pipeline generated by Agent Mode  

## Live Steps
VS Code ‚Üí Agent Mode:

```
Analyze this repository and create a complete CI/CD pipeline using GitHub Actions.
Include:
- build and test for .NET 8
- dev and prod environments
- deploy to Azure using OIDC
- reusable code patterns
- comments explaining the workflow
```

Accept plan ‚Üí apply changes ‚Üí commit ‚Üí push  

## Expected Output
- Updated/split CI + CD workflows  
- Environment structure created  

## Fallback
Use `demo/agent-start`

---

# ‚ñ∂Ô∏è DEMO 4 ‚Äî MCP in VS Code
**Slides:** MCP ‚Üí SDLC Queries  
**Duration:** 6‚Äì8 minutes  
**Goal:** Show Issue/PR/workflow understanding in IDE  

## Live Steps

### Query Issues
```
Using the GitHub MCP server, list all open issues for this repository
and summarize them.
```

### Investigate Issue #1
```
Show me the details of Issue #1 and the workflow runs related to it.
```

### Analyze PR #1
```
Summarize PR #1 and determine whether it fixes Issue #1.
```

### Recommend fix
```
Recommend the changes required to fix the problem in Issue #1 and show
the workflow file that needs updating.
```

## Expected Output
- Issue + PR summaries  
- Workflow run diagnostics  

## Fallback
Use GitHub UI manually

---

# ‚ñ∂Ô∏è DEMO 5 ‚Äî Custom GitHub Actions Agent
**Slides:** Custom Agents ‚Üí Demo: Custom Agent  
**Duration:** 7‚Äì9 minutes  
**Goal:** Create and use a custom agent specialized in GitHub Actions workflows  

## Live Steps

### Step 1: Create the Custom Agent Profile
VS Code ‚Üí Copilot Chat ‚Üí Configure Custom Agents ‚Üí Create new custom agent

Create `.github/agents/actions-specialist.agent.md`:

```markdown
---
name: actions-specialist
description: GitHub Actions workflow specialist focused on CI/CD pipeline optimization and best practices
tools: ["read", "edit", "search"]
---

You are a GitHub Actions specialist with deep expertise in workflow automation, CI/CD pipelines, and DevOps best practices. Your responsibilities:

- Analyze and optimize GitHub Actions workflows (.yml/.yaml files)
- Implement CI/CD best practices including caching, matrix builds, and security
- Configure deployment workflows with proper environment management
- Add workflow monitoring, notifications, and failure handling
- Ensure workflows follow security best practices (secrets, OIDC, permissions)
- Focus exclusively on .github/workflows/ directory and related automation

Always include:
- Proper workflow triggers and conditions
- Efficient caching strategies for dependencies
- Security considerations (least privilege, secret management)
- Clear job names and step descriptions
- Appropriate use of reusable workflows and actions

Avoid modifying application code - focus only on automation and deployment infrastructure.
```

### Step 2: Use the Custom Agent
Select `@actions-specialist` from agent dropdown:

```
Analyze our current GitHub Actions workflows and optimize them for our .NET application. 
Focus on:
- Performance improvements through caching
- Security hardening with proper permissions
- Better error handling and notifications
- Environment-specific deployment strategies
- Workflow reusability

Create or update workflows to follow enterprise DevOps standards.
```

### Step 3: Review and Apply Changes
- Review the specialist's recommendations
- Apply suggested workflow improvements
- Commit changes with descriptive messages

## Expected Output
- Custom agent profile created in `.github/agents/`
- Optimized GitHub Actions workflows
- Enhanced security and performance configurations
- Professional workflow documentation

## Fallback
Use pre-built agent from `demo/custom-actions-agent` branch

---

# üéâ DEMO FINALE ‚Äî Idea ‚Üí Azure

**Narrative:**
"We went from idea to Azure deployment using GitHub Actions, Copilot, Agent Mode, MCP, and Custom Agents ‚Äî a fully agentic delivery workflow."

Open Azure Web App ‚Üí show app running.

---

# üßπ Troubleshooting & Recovery

- **Actions slow:** switch to a backup branch  
- **Azure fail:** use publish profile  
- **Agent Mode hangs:** reduce prompt scope  
- **MCP rate limit:** use GitHub UI  

---

# üì¶ Save As
`/docs/demo-runbook.md`
